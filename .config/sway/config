# This is sway-specific
set $mod Mod4

# swaylock has serious issues with leaking screen content and crashing, leading to unlocking
# set $Locker swaylock -i ~/.wallpaper.png -s fill && sleep 1

# waylock can be installed with cargo install waylock --locked, needs libpam-dev
set $Locker swaylock

# autolock activation and configuration is in .local/bin/enable-autolock
exec enable-autolock

# Inhibit locking if windows are in fullscreen
for_window [class=".*"] inhibit_idle fullscreen
for_window [app_id=".*"] inhibit_idle fullscreen

set $menu rofi -show drun

set $ScreenshotGrabber grim

output "*" bg ~/.dotfiles/themes/wallpaper.png fill

bindsym $mod+Shift+r reload

input type:keyboard {
    xkb_layout "de"
}

input type:touchpad {
    tap enabled
    natural_scroll enabled
    dwt enabled
    pointer_accel 0.5 # set mouse sensitivity (between -1 and 1)
}

input type:pointer {
    natural_scroll enabled
}

set $output-primary eDP-1
set $output-secondary HDMI-A-0 DP-1 DP-3
set $output-tertiary DisplayPort-0 DP-2

# preffered terminal emulator
set $term foot

# Remove titlebar
for_window [class=".*"] titlebar hide
titlebar_border_thickness 2
titlebar_padding 2

# Rules for wayland native windows
for_window [app_id=blueman-manager] floating enable

# Include dystem-scoped drop-in configs
include /etc/sway/config.d/*

# Start systemd sway session to start defined systemd user units
exec_always systemctl --user start sway-session.target

# i3 doesn't seem to support including configs, so the synchronization of the
# generic configuration has to be done manually.
include ~/.dotfiles/.config/sway/config_generic

# include local config, if it exists
include ~/.sway.local

